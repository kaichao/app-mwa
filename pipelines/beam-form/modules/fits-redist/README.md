# fits-redist

## 一、模块设计

### 输入消息格式：
  - ${观测号}/p${起始指向号}_${结尾指向号}/t${起始时间戳}_${结尾时间戳}/ch${通道号}
  - 例："1257010784/p00001_00024/t1257010986_1257011185/ch109"

### 消息头/环境变量

| 消息头        | 环境变量              | 变量说明                                         |
|------------- | -------------------- | ---------------------------------------------- |
|              | LOCAL_INPUT_ROOT   | 输入文件单通道dat的本地根目录。设为非空，用于本地计算。 |
|              | LOCAL_OUTPUT_ROOT | 输出fits文件的本地根目录。设为非空，用于本地计算。     |
|              | KEEP_SOURCE_FILE  | 是否保留原始文件。设为no，则用于测试。               |
| target_hosts | TARGET_HOSTS      | 将本组文件分发的目标节点列表，以逗号分隔的ip地址；若不需要分发，则以localhost替换 |
|              | TARGET_USER | 目标端用户名，缺省为root           |
|              | TARGET_PORT | 目标端的端口号，缺省为22           |
|              | TARGET_ROOT | 目标端的根目录，缺省为${CLUSTER_DATA_ROOT}/mwa/1chz         |

## 二、模块测试

```sh
scalebox app create
```